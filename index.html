<!DOCTYPE html>
<html zontal-theme="dark" lang="en-US" class="dark">
<head>
  <meta charset="utf-8">
  <title>Space Waves</title>
  <meta name="description" content="Space Waves is a lightning-fast arcade platformer.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimal-ui, shrink-to-fit=no viewport-fit=cover">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">

  <!-- Use relative/local paths instead of absolute external domain -->
  <link rel="icon" type="image/png" href="/cache/data/image/options/favicon-s512x512.png"/>
  <link rel="icon" type="image/x-icon" href="/favicon.ico?v=3">
  <link rel="apple-touch-icon" href="/cache/data/image/options/favicon-s512x512.png">

  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <link rel="canonical" href="/" data-override="true">

  <!-- Analytics: left intact, remove if you don't want external hits -->
  <script>
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-YM6V49V3FF');
  </script>

  <script data-cfasync="false">
    var game_config = {
      current_slug: 'space-waves',
      home_page: 'space-waves',
      // Use site-root rather than a hard-coded external domain:
      domain_url: '/',
      id_game: 2,
      logo: '/data/image/options/spacewaves.png',
      theme_color: '#003afa',
      domain_root: '/',
      not_allow_comment: 'no',
      show_comment: 'no'
    };
  </script>

  <link rel="stylesheet" type="text/css" href="/resources/css/swiper.css"/>
  <link href="/resources/css/style.min.css" rel="stylesheet" type="text/css"/>
</head>

<body class="__className_d65c78 __variable_05e5f9">
  <div class="min-h-screen dark:bg-gray-950 font-sans antialiased flex flex-col">
    <header class="...">
      <!-- header contents preserved -->
      <div class="logo">
        <img style="color:transparent;object-fit: contain;max-height: 30px;"
             src="/cache/data/image/options/spacewaves-f200x80.webp"
             alt="Space Waves logo"/>
      </div>
      <!-- rest of header ... -->
    </header>

    <div class="fixed-area" style="width:100%;--mobile-height:400px;--desktop-height:550px;min-height:520px;">
      <div class="frame-box-game" id="frame-container"></div>

      <script data-cfasync="false">
        window.addEventListener("DOMContentLoaded", function () {
          // Create local iframe pointing to local embed path
          var game_frame = document.createElement('iframe');
          game_frame.id = 'game-area';
          game_frame.setAttribute('allowfullscreen', 'true');
          game_frame.title = 'Play Space Waves';
          game_frame.width = '100%';
          game_frame.height = '100%';
          // Keep embed local â€” relative embed path
          game_frame.src = '/embed/space-waves';
          game_frame.allow = 'autoplay; fullscreen; camera; focus-without-user-activation';
          document.getElementById('frame-container').appendChild(game_frame);
        });
      </script>
    </div>

    <!-- Player footer -->
    <div class="player__footer player-footer">
      <div class="player-footer__inner">
        <div class="player-footer__left player-footer__item">
          <img width="40" height="40"
               src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAACCCAYAAAADm4eUAAABCUlEQVR42u3TMQEAAAQAMF4ZNNT/V8Dv2TosK6YDOKUgIAgIAoKAICAICAKCgCAgCCAICAKCgCAgCAgCgoAgIAgIIggIAoKAICAICAKCgCAgCAgCCAKCgCAgCAgC[...]"
               alt="Space Waves thumbnail"/>
          <div class="player-footer__meta">
            <img data-src="/cache/data/image/game/space-waves/space-waves-game-m186x186.webp"
                 class="img-fluid lazy" decoding="async"
                 alt="Play Space Waves now!" fetchpriority="high"/>
            <h1 class="">Space Waves</h1>
          </div>
        </div>

        <div class="player-footer__actions player-footer__item">
          <button type="button"
                  class="g-footer__button favorite-icon favorites_btn favorites-add-2"
                  onclick="favorite(this);"
                  data-id="2"
                  data-name="Space Waves"
                  data-url="/"
                  data-slug="space-waves"
                  data-image="/cache/data/image/game/space-waves/space-waves-game-m186x186.webp">
            <span class="svg-icon" aria-hidden="true">
              <svg class="svg-icon__link"><use xlink:href="#icon-heart"></use></svg>
            </span>
            <div class="g-footer__button-title">
              <span class="g-footer__button-title_text g-footer__button-title_first">Add</span>
            </div>
          </button>

          <button class="g-footer__button" data-target="#modalShare" type="button">
            <span class="svg-icon" aria-hidden="true">
              <svg class="svg-icon__link"><use xlink:href="#icon-shares"></use></svg>
            </span>
          </button>

          <button onclick="open_fullscreen();" class="g-footer__button" type="button">
            <span class="svg-icon" aria-hidden="true">
              <svg class="svg-icon__link"><use xlink:href="#icon-fullscreen"></use></svg>
            </span>
          </button>
        </div>
      </div>
    </div>

    <!-- Games list, thumbnails, other markup preserved but use relative image URLs -->
    <section class="games-list">
      <a href="/geometry-dash-black-line" class="thumb-card">
        <img src="/resources/images/placeholder-m100x100.webp"
             data-src="/cache/data/image/game/geometry-dash-black-line/geometry-dash-black-line-m186x186.webp"
             alt="Geometry Dash: Black Line"
             class="object-cover lazy" loading="lazy"/>
      </a>
      <!-- More games ... keep image URLs relative -->
    </section>

    <!-- SVG sprite (kept inline) -->
    <svg class="main-svg-sprite main-svg-sprite--icons" xmlns="http://www.w3.org/2000/svg" style="display: none;" xmlns:xlink="http://www.w3.org/1999/xlink">
      <symbol id="icon-chevron-right" viewBox="0 0 24 24"><path d="M9.707 18.707l6-6c0.391-0.391 0.391-1.024 0-1.414l-6-6c-0.391-0.391-1.024-0.391-1.414 0s-0.391 [...]"/></symbol>
      <!-- other symbols -->
    </svg>

    <!-- Share Modal -->
    <div id="modalShare" class="modal">
      <div class="modal-body">
        <div class="popup-content">
          <div class="popup-link_share">
            <!-- Use empty value and fill dynamically so it always shares the current page (local) -->
            <input readonly class="popup-link-share--url" id="share_link_input" value="" type="text">
            <button id="copy_share_link">Copy</button>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer scripts -->
    <script type="text/javascript">
      // Populate share input with the current page URL (keeps everything local)
      (function () {
        function setShareLink() {
          var el = document.getElementById('share_link_input');
          if (!el) return;
          // Use full href so sharing works, but it will be the local site URL (not space-waves.co)
          el.value = window.location.href;
        }
        document.addEventListener('DOMContentLoaded', setShareLink);
        // In case modal is opened later, ensure the link is updated before showing
        document.addEventListener('click', function (e) {
          if (e.target && (e.target.closest('#modalShare') || e.target.dataset.target === '#modalShare')) {
            setShareLink();
          }
        });

        // Simple copy button behavior
        var copyBtn = document.getElementById('copy_share_link');
        if (copyBtn) {
          copyBtn.addEventListener('click', function () {
            var input = document.getElementById('share_link_input');
            if (!input) return;
            input.select();
            try {
              document.execCommand('copy');
            } catch (err) {
              // fallback: open native share or do nothing
            }
          });
        }
      })();

      // Rewrite any absolute links/images that point to known external SpaceWaves domains into relative links.
      // This is a safeguard in case other parts of the HTML or templates include absolute links.
      (function () {
        var externalHosts = ['space-waves.co', 'spacewaves2.github.io', 'www.space-waves.co'];
        function makeRelative(url) {
          try {
            var u = new URL(url, window.location.origin);
            // If host is in externalHosts, return relative path + search + hash
            if (externalHosts.indexOf(u.hostname) !== -1) {
              return u.pathname + u.search + u.hash;
            }
          } catch (e) {
            // not a valid URL, just return original
          }
          return url;
        }

        document.addEventListener('DOMContentLoaded', function () {
          // update anchors
          Array.prototype.slice.call(document.getElementsByTagName('a')).forEach(function (a) {
            if (a.href) {
              a.href = makeRelative(a.href);
            }
          });
          // update img src / data-src
          Array.prototype.slice.call(document.getElementsByTagName('img')).forEach(function (img) {
            if (img.src) img.src = makeRelative(img.src);
            if (img.getAttribute('data-src')) img.setAttribute('data-src', makeRelative(img.getAttribute('data-src')));
          });
        });
      })();
    </script>

  </div> <!-- end main container -->
</body>
</html>
